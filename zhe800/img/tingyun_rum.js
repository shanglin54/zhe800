window._ty_rum||function(e){function t(e){switch(typeof e){case"object":if(!e)return"null";if(e instanceof Array){for(var n="[",r=0;r<e.length;r++)n+=(r>0?",":"")+t(e[r]);return n+"]"}var n="{",r=0;for(var i in e)if("function"!=typeof e[i]){var s=t(e[i]);n+=(r>0?",":"")+t(i)+":"+s,r++}return n+"}";case"string":return'"'+e.replace(/([\"\\])/g,"\\$1").replace(/\n/g,"\\n")+'"';case"number":return e.toString();case"boolean":return e?"true":"false";case"function":return t(e.toString());case"undefined":default:return'"undefined"'}}function n(e){return D?D(e):e}function r(){return Date.now?Date.now():(new Date).valueOf()}function i(e,t,n){var r=e[e.length-1];return"function"==typeof r&&(e[e.length-1]=function(){var e=q.args.apply(this,arguments);return t(r,e,n)}),e}function s(e,t){return e&&t&&(e.moduleName=t),e}function o(e,t,n){return function(){try{N=t,n&&u(t),e.apply(this,arguments),n&&a()}catch(r){throw n&&a(),s(r,t)}}}function u(t){q.each(["setTimeout","setInterval"],function(n){q.wrap(!0,e,n,function(e){return function(){var n,r=q.args.apply(this,arguments),i=r[0];return"function"==typeof i&&(n=o(i,t,!0)),n&&(r[0]=n),e.apply(this,r)}})})}function a(){q.each(["setTimeout","setInterval"],function(t){q.unwrap(e,t)})}function f(e){O&&q.wrap(!1,O.prototype,"addEventListener",function(t){return function(){var n,r=q.args.apply(this,arguments),i=r[1];return"function"==typeof i&&(n=o(i,e,!0)),n&&(r[1]=n),t.apply(this,r)}}),u(e)}function l(){O&&q.unwrap(O.prototype,"addEventListener"),a()}function c(e){return function(e,t){}}function h(){if(this.errors.length){var e=function(e){var t=[],n={};q.each(e,function(e){var t=b(e[1],e[2],e[3],e[6]);n[t]?n[t][4]+=1:n[t]=[e[1],e[2],e[3],"#"==e[4]?k.URL:e[4],1,e[5],e[6],e[7]]});for(var r in n)t.push(n[r]);return t}(this.errors),t=this;q.POST(q.mkurl(H.server.beacon,"err",{fu:M?M:M++,os:parseInt((r()-(P||H.st))/1e3)}),q.stringify({datas:e}),{},function(e,n){e||(t.errors=[])})}}function p(){U.initend()}function d(){"complete"===k.readyState&&U.initend()}function v(e){function t(){U.send()}return H.load_time?!0:(U.initend(),H.load_time=r(),void (9===e?t():setTimeout(t,0)))}function m(){z||v(9),q.bind(h,U)(),z=1}function g(){U.touch||(U.touch=r())}function y(e){if(e[6]){var t=e[4],n=e[5];if(n&&"string"==typeof n&&t){n=n.split(/\n/);var r=_.exec(n[0]);r||(r=_.exec(n[1])),r&&r[1]!=t&&(e[4]=r[1]||t,e[2]=r[2]||e[2],e[3]=r[3]||e[3])}}}function b(e,t,n,r){return e+t+n+(r?r:"")}function w(e){var t=arguments,n="unknown",i=[r()];if(0!=t.length){if("string"==typeof e){var s=t.length<4?t.length:4;i[1]=t[0],s>2&&(i[2]=t[2],i[3]=0,i[4]=t[1]),s>3&&t[3]&&(i[3]=t[3])}else if(e instanceof Event){if(i[1]=e.message||(e.error&&e.error.constructor.name)+(e.error&&e.error.message)||"",i[2]=e.lineno?e.lineno:0,i[3]=e.colno?e.colno:0,i[4]=e.filename||e.error&&e.error.fileName||e.target&&e.target.baseURI||"",i[4]==k.URL&&(i[4]="#"),e.error){i[5]=e.error.stack,i[6]=e.error.moduleName;var o=b(i[1],i[2],i[3],i[6]);i[7]=W[o]?0:1,W[o]=!0}else i[5]=null,i[6]=null,i[7]=0;if(i[1]===n&&i[4]===n)return;y(i)}U.errors.push(i)}}function E(e,t,n){for(var r="o."+t+"(",i=0;i<n.length;i++)r+=(i>0?",":"")+"a["+i+"]";return r+=");",(new Function(r))()}function S(e){return function(){var t=arguments;if(!this._ty_wrap){var n=q.args.apply(this,t);this._ty_rum={method:n[0],url:n[1],start:r()}}try{return e.apply(this,t)}catch(i){return this.open=e,E(this,"open",t)}}}function x(t){return"string"==typeof t?t.length:e.ArrayBuffer&&t instanceof ArrayBuffer?t.byteLength:e.Blob&&t instanceof Blob?t.size:t&&t.length?t.length:0}function T(t){return function(){function n(e){var t,n,i=h._ty_rum;if(i){if(4!==i.readyState&&(i.end=r()),i.s=h.status,""==h.responseType||"text"==h.responseType)i.res=x(h.responseText);else if(h.response)i.res=x(h.response);else try{i.res=x(h.responseText)}catch(s){i.res=0}if(i.readyState=h.readyState,i.cb_time=p,t=[i.method+" "+i.url,i.s>0?i.end-i.start:0,p,i.s,i.s>0?0:e,i.res,i.req],i.r&&(n=o(h),n&&(n=n.xData)&&(t.push(n.id),t.push(n.action),t.push(n.time&&n.time.duration),t.push(n.time&&n.time.qu))),H.aa.push(t),H.server.custom_urls&&H.server.custom_urls.length&&!U.ct){if(!H.pattern){H.pattern=[];for(var u=0;u<H.server.custom_urls.length;u++)H.pattern.push(new RegExp(H.server.custom_urls[u]))}for(var u=0;u<H.pattern.length;u++)if(i.url.match(H.pattern[u])){U.ct=i.end+p;break}}U.sa(),h._ty_rum=null}}function i(){4==h.readyState&&n(0)}function o(t){var n;if(t.getResponseHeader){var r=q.parseJSON(t.getResponseHeader("X-Tingyun-Tx-Data"));r&&r.r&&t._ty_rum&&r.r+""==t._ty_rum.r+""&&(n={name:t._ty_rum.url,xData:r},R&&e._ty_rum.c_ra.push(n))}return n}function f(e){return function(){var t,n;4==h.readyState&&h._ty_rum&&(h._ty_rum.end=t=r(),h._ty_rum.readyState=4);try{N&&u(N),n=e.apply(this,arguments),N&&a()}catch(o){throw o=s(o,N),N&&a(),N=null,o}return 4==h.readyState&&(p=r()-t),i(),n}}function l(e){return function(){var t=h._ty_rum;return t?"progress"==e?!0:("abort"==e?n(905):"loadstart"==e?t.start=r():"error"==e?n(990):"timeout"==e&&n(903),!0):!0}}function c(e,t){t instanceof Array||(t=[t]);for(var n=0;n<t.length;n++){var r=t[n];q.sh(e,r,l(r),!1)}}if(!this._ty_wrap){this._ty_rum.start=r(),this._ty_rum.req=arguments[0]?x(arguments[0]):0;var h=this,p=0,d=q.wrap(!1,this,"onreadystatechange",f);d||q.sh(this,"readystatechange",i,!1),c(this,["error","progress","abort","load","loadstart","loadend","timeout"]),d||setTimeout(function(){q.wrap(!1,h,"onreadystatechange",f)},0)}var v=function(){function e(e){var t={},n=/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?/.exec(e);return n&&(t.protocol=n[1]?n[1]+":":"http:",t.hostname=n[3],t.port=n[4]||""),t}return function(t){var n=location;if(t=q.trim(t)){if(t=t.toLowerCase(),t.startsWith("//")&&(t=n.protocol+t),!t.startsWith("http"))return!0;var r=e(t),i=r.protocol===n.protocol&&r.hostname===n.hostname;return i&&(i=r.port===n.port?!0:!n.port&&("http:"===n.protocol&&"80"===r.port||"https:"===n.protocol&&"443"===r.port)),i}return!1}}(),m=arguments;try{try{var g=H.server;g&&g.id&&this._ty_rum&&v(this._ty_rum.url)&&(this._ty_rum.r=(new Date).getTime()%1e8,this.setRequestHeader&&this.setRequestHeader("X-Tingyun-Id",g.id+";r="+this._ty_rum.r))}catch(y){}return t.apply(this,m)}catch(y){return this.send=t,E(this,"send",m)}}}var N,C=e.XMLHttpRequest,k=document,L=Object.defineProperty,A=e.define,O=e.EventTarget,M=0,_=new RegExp("([a-z]+:/{2,3}.*):(\\d+):(\\d+)"),D=e.encodeURIComponent,P=null,H=e._ty_rum={st:r(),ra:[],c_ra:[],aa:[],snd_du:function(){return this.server.adu?1e3*this.server.adu:1e4},cc:function(){return this.server.ac?this.server.ac:10}},B=H;B.server={id:"z8ro9WcSa8c",beacon:"beacon.tingyun.com",beacon_err:"beacon-err.tingyun.com",key:"PfvfmTci2pc",trace_threshold:7e3,custom_urls:[],sr:1};if(H.server&&!(H.server.sr&&Math.random()>=H.server.sr)){var j=String.prototype.trim;String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.indexOf(e,t)===t});var F=/^http/i,I=function(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return e()+"-"+e()+e()}(),q={wrap:function(e,t,n,r,i){try{var s=t[n]}catch(o){if(!e)return!1}if(!s&&!e)return!1;if(s&&s._ty_wrap)return!1;try{t[n]=r(s,i)}catch(o){return!1}return t[n]._ty_wrap=[s],!0},unwrap:function(e,t){try{var n=e[t]._ty_wrap;n&&(e[t]=n[0])}catch(r){}},each:function(e,t){if(e){var n;for(n=0;n<e.length&&(!e[n]||!t(e[n],n,e));n+=1);}},mkurl:function(e,t){var i=arguments,s=/^https/i.test(k.URL)?"https":"http";if(s=s+"://"+e+"/"+t+"?av=1.0.0&v=1.3.2&key="+n(H.server.key)+"&ref="+n(k.URL)+"&rand="+r()+"&pvid="+I,"pf"!==t&&H&&H.agent&&H.agent.n&&(s+="&n="+n(H.agent.n)),i.length>2){var o=i[2];for(var u in o)s+="&"+u+"="+o[u]}return s},GET:function(e,t){function n(){t&&t.apply(this,arguments),r.parentNode&&r.parentNode.removeChild(r)}if(navigator&&navigator.sendBeacon&&F.test(e))return navigator.sendBeacon(e,null);var r=k.createElement("img");return r.setAttribute("src",e),r.setAttribute("style","display:none"),this.sh(r,"readystatechange",function(){("loaded"==r.readyState||4==r.readyState)&&n("loaded")},!1),this.sh(r,"load",function(){return n("load"),!0},!1),this.sh(r,"error",function(){return n("error"),!0},!1),k.body.appendChild(r)},fpt:function(e,t,n){function r(e,t,n){var r=k.createElement(e);try{for(var i in t)r[i]=t[i]}catch(s){var o="<"+e;for(var i in t)o+=" "+i+'="'+t[i]+'"';o+=">",n||(o+="</"+e+">"),r=k.createElement(o)}return r}var i=r("div",{style:"display:none"},!1),s=r("iframe",{name:"_ty_rum_frm",width:0,height:0,style:"display:none"},!1),o=r("form",{style:"display:none",action:e,enctype:"application/x-www-form-urlencoded",method:"post",target:"_ty_rum_frm"},!1),u=r("input",{name:"data",type:"hidden"},!0);return u.value=t,o.appendChild(u),i.appendChild(s),i.appendChild(o),k.body.appendChild(i),o.submit(),s.onreadystatechange=function(){("complete"===s.readyState||4===s.readyState)&&(n(null,s.innerHTML),k.body.removeChild(i))},!0},POST:function(t,n,r,i){if(this.ie)return this.fpt(t,n,i);if(navigator&&navigator.sendBeacon&&F.test(t)){var s=navigator.sendBeacon(t,n);return i(!s),s}var o;if(e.XDomainRequest)return o=new XDomainRequest,o.open("POST",t),o.onload=function(){i(null,o.responseText)},this.sh(o,"load",function(){i(null,o.responseText)},!1),this.sh(o,"error",function(){i("POST("+t+")error")},!1),this.wrap(!0,o,"onerror",function(e){return function(){return i&&i("post error",o.responseText),!0}}),o.send(n),!0;if(!C)return!1;o=new C,o.overrideMimeType&&o.overrideMimeType("text/html");try{o._ty_wrap=1}catch(u){}var a=0;o.onreadystatechange=function(){4==o.readyState&&200==o.status&&(0==a&&i(null,o.responseText),a++)},o.onerror&&this.wrap(!0,o,"onerror",function(e){return function(){return i("post error",o.responseText),"function"==typeof e?e.apply(this,arguments):!0}});try{o.open("POST",t,!0)}catch(u){return this.fpt(t,n,i)}for(var f in r)o.setRequestHeader(f,r[f]);return o.send(n),!0},sh:function(e,t,n,r){return e.addEventListener?e.addEventListener(t,n,r):e.attachEvent?e.attachEvent("on"+t,n):!1},args:function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);return e},stringify:t,parseJSON:function(t){if(t&&"string"==typeof t){var n=e.JSON?e.JSON.parse:function(e){return(new Function("return "+e))()};return n(t)}return null},trim:j?function(e){return null==e?"":j.call(e)}:function(e){return null==e?"":e.toString().replace(/^\s+/,"").replace(/\s+$/,"")},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},bind:function(e,t){return function(){e.apply(t,arguments)}}};L&&L(e,"define",{get:function(){return A},set:function(e){"function"==typeof e?(A=function(){var t=q.args.apply(this,arguments);if(3!==t.length)return e.apply(this,t);var n="string"==typeof t[0]?t[0]:"anonymous";return e.apply(this,i(t,function(e,t,n){var r;try{N=n,f(n),r=e.apply(this,t),l()}catch(i){throw l(),s(i,n)}return r},n))},q.extend(A,e)):A=e},configurable:!0});var R=e.performance?e.performance:e.Performance;R&&(q.sh(R,"resourcetimingbufferfull",function(){var e=R.getEntriesByType("resource");e&&(H.ra=H.ra.concat(e),R.clearResourceTimings())},!1),q.sh(R,"webkitresourcetimingbufferfull",function(){var e=R.getEntriesByType("resource");e&&(H.ra=H.ra.concat(e),R.webkitClearResourceTimings())},!1));for(var U=H.metric={ready:function(){return H.load_time},initend:function(){function e(){U.sa()}H.end_time||(H.end_time=r(),this._h=setInterval(e,2e3))},send:function(){function t(){function t(e){return i[e]>0?i[e]-o:0}var r={};if(R&&R.timing){var i=R.timing;o=i.navigationStart;var s=t("domainLookupStart"),u=t("domainLookupEnd"),a=t("redirectStart"),f=t("redirectEnd"),l=t("connectStart"),c=t("connectEnd");r={f:t("fetchStart"),qs:t("requestStart"),rs:t("responseStart"),re:t("responseEnd"),os:t("domContentLoadedEventStart"),oe:t("domContentLoadedEventEnd"),oi:t("domInteractive"),oc:t("domComplete"),ls:t("loadEventStart"),le:t("loadEventEnd")},c-l>0&&(r.cs=l,r.ce=c),u-s>0&&(r.ds=s,r.de=u),(f-a>0||f>0)&&(r.es=a,r.ee=f),0==r.le&&(r.ue=H.load_time-o);var h;if(i.msFirstPaint)h=i.msFirstPaint;else if(e.chrome&&chrome.loadTimes){var p=chrome.loadTimes();p&&p.firstPaintTime&&(h=1e3*p.firstPaintTime)}else H.firstPaint&&(h=H.firstPaint);h&&(r.fp=Math.round(h-o)),i.secureConnectionStart&&(r.sl=t("secureConnectionStart"))}else r={t:o,os:H.end_time-o,ls:H.load_time-o};r.je=U.errors.length,U.ct&&(r.ct=U.ct-o),U.touch&&(r.fi=U.touch-o);var d=H.agent;return d&&(r.id=n(d.id),r.a=d.a,r.q=d.q,r.tid=n(d.tid),r.n=n(d.n)),r.sh=e.screen&&e.screen.height,r.sw=e.screen&&e.screen.width,r}function i(t){var n=e._ty_rum.c_ra;if(t)for(var r=n.length-1;r>=0;r--)if(t.indexOf(n[r].name)>-1)return n[r].xData;return null}function s(e){function t(e){return l[e]>0?l[e]:0}if(e<H.server.trace_threshold)return null;var r=R;if(r&&r.getEntriesByType){var s={tr:!0,tt:n(k.title),charset:k.characterSet},u=H.ra,a=r.getEntriesByType("resource");a&&(u=u.concat(a),r.webkitClearResourceTimings&&r.webkitClearResourceTimings(),r.clearResourceTimings&&r.clearResourceTimings()),s.res=[];for(var f=0;f<u.length;f++){var l=u[f],c={o:t("startTime"),rt:l.initiatorType,n:l.name,f:t("fetchStart"),ds:t("domainLookupStart"),de:t("domainLookupEnd"),cs:t("connectStart"),ce:t("connectEnd"),sl:t("secureConnectionStart"),qs:t("requestStart"),rs:t("responseStart"),re:t("responseEnd")},h=i(l.name);h&&(c.aid=h.id,c.atd=h.trId,c.an=h.action,c.aq=h.time&&h.time.qu,c.as=h.time&&h.time.duration),s.res.push(c)}if(U.errors.length){s.err=[];for(var f=0,p=U.errors,d=p.length;d>f;f++)s.err.push({o:Math.round(p[f][0]-o),e:p[f][1],l:p[f][2],c:p[f][3],r:p[f][4],ec:d,s:p[f][5],m:p[f][6],ep:p[f][7]})}return s}return null}if(this.sended)return!1;if(!this.ready())return!1;var o=H.st,u={};try{pf=t(),u=s(pf.ls>0?pf.ls:H.load_time-o)}catch(a){}u=u?q.stringify(u):"";var f=q.mkurl(H.server.beacon,"pf",pf);P=r(),0!=u.length&&q.POST(f,u,{},c("POST"))||q.GET(f);var l=q.bind(h,this);return l(),setInterval(l,1e4),this.sended=!0,this.sa(1),!0},sa:function(e){(this.ready()||e)&&(e||(e=!this._last_send||r()-this._last_send>H.snd_du()||H.aa.length>=H.cc()),H.aa.length>0&&e&&(this._last_send=r(),q.POST(q.mkurl(H.server.beacon,"xhr"),q.stringify({xhr:H.aa}),{},c("POST")),H.aa=[]))},errors:[]},z=null,W={},X=[["load",v],["beforeunload",m],["pagehide",m],["unload",m]],V=0;V<X.length;V++)q.sh(e,X[V][0],X[V][1],!1);e.addEventListener?q.sh(e,"error",w,!1):e.onerror=function(e,t,n,r,i){var s=[e,n,r,t==k.URL?"#":t];if(i){var o=b(e,n,r,i.moduleName);s=s.concat([1,i.stack,i.moduleName,W[o]?0:1]),W[o]=!0}y(s),U.errors.push(s)};for(var $=[["scroll",g],["keypress",g],["click",g],["DOMContentLoaded",p],["readystatechange",d]],V=0;V<$.length;V++)q.sh(k,$[V][0],$[V][1],!1);if(q.wrap(!1,e,"requestAnimationFrame",function(t){return function(){return H.firstPaint=r(),e.requestAnimationFrame=t,t.apply(this,arguments)}}),C)if(C.prototype)q.wrap(!1,C.prototype,"open",S),q.wrap(!1,C.prototype,"send",T);else{q.ie=7;var J=C;e.XMLHttpRequest=function(){var e=new J;return q.wrap(!1,e,"open",S),q.wrap(!1,e,"send",T),e}}else e.ActiveXObject&&(q.ie=6)}}(window);